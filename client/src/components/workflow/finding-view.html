<template>
  <require from="../../services/date-format"></require>
  <div class="card">
    <div class="card-header bg-light">
      <span click.delegate="toggle()">${finding.title}
        <span class="badge">${finding.measurements.length}</span>
      </span>
      <!-- div style="position:absolute;right:20px;top:5px;" click.delegate="menu()">
        <i class="fas fa-bars"></i>
      </div -->
      <div class="nav nav-pills navbar-right" style="position:absolute;right:20px;top:5px;">
        <div class="dropdown">
          <a data-toggle="dropdown" href="#" role="button">
            <i class="fas fa-bars"></i>
          </a>
          <ul class="dropdown-menu" role="menu">
            <li class="nav-item">
              <a href="#" click.delegate="selectAll()">select all</a>
            </li>
            <li>
              <a href="#" click.delegate="deselectAll()">deselect all</a>
            </li>
            <li>
              <a href="#" click.delegate="delete()">delete</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="card-body" if.bind="isOpen">
      <ul class="list-group">
        <li class="list-group-item" repeat.for="m of finding.measurements">
          <input type="checkbox" checked.bind="m.selected">
          <span style="font-size:smaller;font-weight:bolder">${m.date |
            dateFormat:"date"}</span>
          ${displayLine(m.values)}</li>
      </ul>
    </div>
  </div>
</template>
